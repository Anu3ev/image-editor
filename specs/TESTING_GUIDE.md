# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –¥–ª—è Image Editor

## üéØ –í–≤–µ–¥–µ–Ω–∏–µ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - —ç—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–≥–æ, —á—Ç–æ –≤–∞—à –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–∂–∏–¥–∞–µ—Ç—Å—è. –í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –º—ã –ø–æ—à–∞–≥–æ–≤–æ –∏–∑—É—á–∏–º, –∫–∞–∫ –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.

## üìö –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### 1. –í–∏–¥—ã —Ç–µ—Å—Ç–æ–≤
- **Unit-—Ç–µ—Å—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏/–∫–ª–∞—Å—Å—ã
- **Integration-—Ç–µ—Å—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- **E2E-—Ç–µ—Å—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –ø–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 2. –ê–Ω–∞—Ç–æ–º–∏—è —Ç–µ—Å—Ç–∞
```typescript
describe('–ß—Ç–æ –º—ã —Ç–µ—Å—Ç–∏—Ä—É–µ–º', () => {
  test('—á—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏', () => {
    // Arrange - –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞
    const input = 'test-data'

    // Act - –¥–µ–π—Å—Ç–≤–∏–µ
    const result = functionToTest(input)

    // Assert - –ø—Ä–æ–≤–µ—Ä–∫–∞
    expect(result).toBe('expected-result')
  })
})
```

### 3. –û—Å–Ω–æ–≤–Ω—ã–µ Jest –º–∞—Ç—á–µ—Ä—ã
```typescript
// –†–∞–≤–µ–Ω—Å—Ç–≤–æ
expect(actual).toBe(expected)              // —Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ
expect(actual).toEqual(expected)           // –≥–ª—É–±–æ–∫–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤

// –ß–∏—Å–ª–∞
expect(number).toBeGreaterThan(3)
expect(number).toBeLessThan(10)
expect(number).toBeCloseTo(0.3)

// –°—Ç—Ä–æ–∫–∏
expect(string).toMatch(/pattern/)
expect(string).toContain('substring')

// –ú–∞—Å—Å–∏–≤—ã
expect(array).toContain(item)
expect(array).toHaveLength(3)

// –û–±—ä–µ–∫—Ç—ã
expect(object).toHaveProperty('key')
expect(object).toHaveProperty('key', value)

// –ò—Å–∫–ª—é—á–µ–Ω–∏—è
expect(() => { throw new Error() }).toThrow()
expect(promise).rejects.toThrow()
expect(promise).resolves.toBe(value)

// –§—É–Ω–∫—Ü–∏–∏
expect(mockFunction).toHaveBeenCalled()
expect(mockFunction).toHaveBeenCalledWith(arg1, arg2)
```

## üõ† –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
```typescript
// –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
const formatFileName = (name: string): string => {
  return name.toLowerCase().replace(/[^a-z0-9]/g, '-')
}

// –¢–µ—Å—Ç
test('–¥–æ–ª–∂–µ–Ω —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞', () => {
  expect(formatFileName('My Image File.png')).toBe('my-image-file-png')
})
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–æ–∫–∞–º–∏
```typescript
// –ú–æ–∫–∞–µ–º –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
const mockFetch = jest.fn()
global.fetch = mockFetch

test('–¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ', async () => {
  // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –º–æ–∫
  mockFetch.mockResolvedValue({
    ok: true,
    blob: () => Promise.resolve(new Blob())
  })

  // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é
  const result = await loadImage('image.jpg')

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º
  expect(mockFetch).toHaveBeenCalledWith('image.jpg')
  expect(result).toBeInstanceOf(Blob)
})
```

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ DOM –æ–ø–µ—Ä–∞—Ü–∏–π
```typescript
test('–¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç canvas', () => {
  // –ú–æ–∫–∞–µ–º DOM
  const mockElement = { appendChild: jest.fn() }
  document.getElementById = jest.fn().mockReturnValue(mockElement)

  // –¢–µ—Å—Ç–∏—Ä—É–µ–º
  const canvas = createCanvas('test-container')

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º
  expect(document.getElementById).toHaveBeenCalledWith('test-container')
  expect(mockElement.appendChild).toHaveBeenCalled()
})
```

## üöÄ –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è Image Editor

### –≠—Ç–∞–ø 1: –ü—Ä–æ—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ù–ê–ß–ù–ò–¢–ï –ó–î–ï–°–¨)
1. ‚úÖ –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (createCanvasId, validateContainerId)
2. ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (parseImageDimensions)
3. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### –≠—Ç–∞–ø 2: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
1. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
2. –¢–∏–ø—ã –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
3. –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ defaults

### –≠—Ç–∞–ø 3: –ú–µ–Ω–µ–¥–∂–µ—Ä—ã (—Å—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å)
1. ErrorManager - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
2. HistoryManager - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–µ–π
3. ClipboardManager - —Ä–∞–±–æ—Ç–∞ —Å –±—É—Ñ–µ—Ä–æ–º –æ–±–º–µ–Ω–∞

### –≠—Ç–∞–ø 4: –°–ª–æ–∂–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
1. CanvasManager - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–≤–∞—Å–æ–º
2. ImageManager - –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
3. TransformManager - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏

### –≠—Ç–∞–ø 5: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
1. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏
2. –ü–æ–ª–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

## üí° –°–æ–≤–µ—Ç—ã –¥–ª—è –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö

1. **–ù–∞—á–∏–Ω–∞–π—Ç–µ —Å –ø—Ä–æ—Å—Ç–æ–≥–æ** - —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–Ω–∞—á–∞–ª–∞ —á–∏—Å—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
2. **–û–¥–∏–Ω —Ç–µ—Å—Ç - –æ–¥–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞** - –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤ –æ–¥–Ω–æ–º —Ç–µ—Å—Ç–µ
3. **–ì–æ–≤–æ—Ä—è—â–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è** - –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ –¥–æ–ª–∂–Ω–æ –æ–±—ä—è—Å–Ω—è—Ç—å, —á—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ AAA –ø–∞—Ç—Ç–µ—Ä–Ω** - Arrange, Act, Assert
5. **–ù–µ —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** - —Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –∞ –Ω–µ –∫–æ–¥

## üîß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã: `npm test`
2. –ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ `specs/src/basics.spec.ts`
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
4. –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º

## üìñ –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Jest Documentation](https://jestjs.io/docs/getting-started)
- [Testing Best Practices](https://github.com/goldbergyoni/javascript-testing-best-practices)
- [TypeScript Jest Setup](https://kulshekhar.github.io/ts-jest/)
